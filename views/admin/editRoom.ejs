<%- include('../partials/head') %>
<link rel="stylesheet" href="/styles/dashboard.css">

<div class="container mt-4">
  <h2>Edit Room for <%= hotel.title %></h2>
  <form action="/admin/hotels/<%= hotel._id %>/rooms/<%= room._id %>/edit" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label for="roomName">Room Name</label>
      <input type="text" class="form-control" id="roomName" name="roomName" value="<%= room.roomName %>" required>
    </div>
    <div class="form-group">
      <label for="roomType">Room Type</label>
      <input type="text" class="form-control" id="roomType" name="roomType" value="<%= room.roomType %>" required>
    </div>
    <div class="form-group">
      <label for="capacity">Capacity</label>
      <input type="number" class="form-control" id="capacity" name="capacity" value="<%= room.capacity %>" required>
    </div>
    <div class="form-group">
      <label for="price">Price</label>
      <input type="number" class="form-control" id="price" name="price" step="0.01" value="<%= room.price %>" required>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea class="form-control" id="description" name="description" rows="3"><%= room.description %></textarea>
    </div>
    <div class="form-group">
      <label for="images">Room Images</label>
      <input type="file" class="form-control-file" id="images" name="images" multiple>
    </div>
    <% if (room.images && room.images.length > 0) { %>
      <div class="form-group">
        <label>Current Images</label>
        <div class="row">
          <% room.images.forEach((image, index) => { %>
            <div class="col-md-3 mb-3">
              <img src="/uploads/hotels/<%= image %>" class="img-thumbnail" alt="Room Image <%= index + 1 %>">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="deleteImages[]" value="<%= image %>" id="deleteImage<%= index %>">
                <label class="form-check-label" for="deleteImage<%= index %>">
                  Delete
                </label>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    <button type="submit" class="btn btn-primary">Update Room</button>
  </form>
</div>

<%- include('../partials/dashboard-scripts') %>
<%- include('../footer') %>